<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Li Jiayi">
<meta name="dcterms.date" content="2024-02-17">

<title>ISSS608-VAA - Take-home Exercise 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-ex" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Ex</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-ex">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex09/Hands-on_Ex09.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 9</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex10/Hands-on_Ex10.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 10</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-ex" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In-class Ex</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-ex">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01a.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/jiayi.li4640/viz/In-classex02/MonthlySalesandProfitsbyRegion2016-2019" rel="" target="">
 <span class="dropdown-text">In-class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex06/In-class_Ex06.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex07/In-class_Ex07.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-ex" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take-home Ex</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-ex">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex04/Take-home_Ex04.html" rel="" target="">
 <span class="dropdown-text">Take-home Exercise 4</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-project" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Project</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-project">    
        <li>
    <a class="dropdown-item" href="https://isss608-24jan-group1.netlify.app/" rel="" target="">
 <span class="dropdown-text">Project</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#project-brief" id="toc-project-brief" class="nav-link" data-scroll-target="#project-brief">Project Brief</a></li>
  </ul></li>
  <li><a href="#analysis-framework" id="toc-analysis-framework" class="nav-link" data-scroll-target="#analysis-framework">Analysis Framework</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data Preparation</a>
  <ul class="collapse">
  <li><a href="#data-selection" id="toc-data-selection" class="nav-link" data-scroll-target="#data-selection">Data Selection</a></li>
  <li><a href="#loading-r-packages" id="toc-loading-r-packages" class="nav-link" data-scroll-target="#loading-r-packages"><strong>Loading R packages</strong></a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data"><strong>Importing Data</strong></a></li>
  <li><a href="#merging-and-selecting-dataframe" id="toc-merging-and-selecting-dataframe" class="nav-link" data-scroll-target="#merging-and-selecting-dataframe"><strong>Merging and Selecting Dataframe</strong></a>
  <ul class="collapse">
  <li><a href="#filtering-rainfall-related-data" id="toc-filtering-rainfall-related-data" class="nav-link" data-scroll-target="#filtering-rainfall-related-data"><strong>Filtering Rainfall Related Data</strong></a></li>
  </ul></li>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics">Summary Statistics</a></li>
  <li><a href="#feature-engineering" id="toc-feature-engineering" class="nav-link" data-scroll-target="#feature-engineering">Feature Engineering</a></li>
  </ul></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#total-volume-of-rainfall" id="toc-total-volume-of-rainfall" class="nav-link" data-scroll-target="#total-volume-of-rainfall">Total Volume of Rainfall</a></li>
  <li><a href="#average-volume-of-rainfall" id="toc-average-volume-of-rainfall" class="nav-link" data-scroll-target="#average-volume-of-rainfall">Average Volume of Rainfall</a></li>
  <li><a href="#frequency-of-rainfall" id="toc-frequency-of-rainfall" class="nav-link" data-scroll-target="#frequency-of-rainfall">Frequency of Rainfall</a></li>
  <li><a href="#intensity-of-rainfall" id="toc-intensity-of-rainfall" class="nav-link" data-scroll-target="#intensity-of-rainfall">Intensity of Rainfall</a></li>
  </ul></li>
  <li><a href="#analysis-dashboard" id="toc-analysis-dashboard" class="nav-link" data-scroll-target="#analysis-dashboard">Analysis Dashboard</a>
  <ul class="collapse">
  <li><a href="#static-dashboard" id="toc-static-dashboard" class="nav-link" data-scroll-target="#static-dashboard">Static Dashboard</a></li>
  <li><a href="#interactive-dashboard" id="toc-interactive-dashboard" class="nav-link" data-scroll-target="#interactive-dashboard">Interactive Dashboard</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 3</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Li Jiayi </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 17, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 19, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="project-brief" class="level2">
<h2 class="anchored" data-anchor-id="project-brief">Project Brief</h2>
<p>According to an official report by <strong><em>Ministry of Suatainbility and the Environment</em></strong> as shown in the infographic below:</p>
<ul>
<li><p>Daily mean temperature are projected to increase by 1.4 to 4.6, and</p></li>
<li><p>The contrast between the wet months (November to January) and dry month (February and June to September) is likely to be more pronounced.</p></li>
</ul>
<p><img src="../../image/Climate_change.png" class="img-fluid"></p>
<p>This project will apply suitable interactive techniques to verify the assertions mentioned in the second portion, examining the pronounced contrast between the wet months (November to January) and the dry months (February, and June to September). The complete project brief is available <a href="https://isss608-ay2023-24jan.netlify.app/take-home_ex/th_ex03">here</a>.</p>
</section>
</section>
<section id="analysis-framework" class="level1">
<h1>Analysis Framework</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
CLAIM
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <strong><em>contrast</em></strong> between the wet months (November to January) and dry month (February and June to September) is likely to be <strong><em>more pronounced</em></strong>.</p>
</div>
</div>
<p>Looking at the claim above, a few intriguing questions have popped up, sparking my curiosity:</p>
<ol type="1">
<li><strong>Definition of Contrast:</strong> What does ‘<strong><em>pronounced contrast</em></strong>’ mean in the context of seasonal rainfall? Is it related to the intensity, frequency, or total volume?</li>
<li><strong>Nature of Change:</strong> Which specific aspects of the wet and dry seasons are undergoing change? Are we observing wetter wet seasons, drier dry seasons, or a combination of both?</li>
<li><strong>Extend of Contrast:</strong> How much is more? To what extend is the contrast becoming more pronounced?</li>
</ol>
<p>The diagram below illustrate the analysis framework based on the questions above, by making potential hypothesis on various factors which might contribute to the <strong><em>more pronounced contrast</em></strong>, to be further explored and investigated with data analytical work conducted in the later part.</p>
<div class="cell" data-fig-width="6.5">
<div class="cell-output-display">
<div>
<div>
<pre class="mermaid mermaid-js">flowchart LR
A(More Pronounced) --&gt; B(Aespect of Contrast)
B --&gt; C(Intensity)
B --&gt; D(Frequency)
B --&gt; E(Volume)
A --&gt; F(Cause of Contrast)
F --&gt; G(Wetter Wet Season?)
F --&gt; H(Drier Dry Season?)
F --&gt; I(Both?)
A --&gt; J(Extend of Contrast)
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="data-preparation" class="level1">
<h1>Data Preparation</h1>
<section id="data-selection" class="level2">
<h2 class="anchored" data-anchor-id="data-selection">Data Selection</h2>
<p>Historical daily rainfall records have been meticulously maintained and is accessible <a href="http://www.weather.gov.sg/learn_climate/#climate4">here</a>. Changi station was strategically chosen for its status as the longest-serving <a href="http://www.weather.gov.sg/learn_climate/#climate4">climate station</a>, boasting the most comprehensive dataset.</p>
<p>The <a href="http://www.weather.gov.sg/climate-normals/">climate maps</a> below reveals a significant contrast in rainfall between December (indicated by the darkest blue) and February (represented by the lightest blue). However, February has fewer days. To facilitate a more straightforward analysis, data from <strong><em>July</em></strong>, a month with an equal number of days, will be used for comparison alongside <strong><em>December</em></strong>.</p>
<p><img src="../../image/rainfall.png" class="img-fluid"></p>
<p>The data, consisting of historical daily temperature and rainfall records for every July and December from the years 1983, 1993, 2003, 2013, and 2023, has been downloaded from <a href="http://www.weather.gov.sg/climate-historical-daily/">Historical Daily Records</a>, in the format of <code>'DAILYDATA_S24_YYYYMM.csv'</code></p>
</section>
<section id="loading-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-r-packages"><strong>Loading R packages</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(ggiraph, plotly, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               patchwork, DT, tidyverse,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               readxl, gifski, gapminder,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               plotly, gganimate,networkD3, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               ggtext, grid, ggnewscale,shadowtext) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-data"><strong>Importing Data</strong></h2>
<p>The code chunk below use <code>read_csv</code> to import datasets for July and December across various years, and decode the data using “ISO-8859-1” for all past data except 2023 data.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>jul_83 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_198307.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>jul_93 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_199307.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>jul_03 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_200307.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>jul_13 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_201307.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>jul_23 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_202307.csv"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>dec_83 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_198312.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>dec_93 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_199312.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>dec_03 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_200312.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>dec_13 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_201312.csv"</span>, <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"ISO-8859-1"</span>))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>dec_23 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/DAILYDATA_S24_202312.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="merging-and-selecting-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="merging-and-selecting-dataframe"><strong>Merging and Selecting Dataframe</strong></h2>
<p>Upon examining the data, 2023 dataset had different naming conventions for some columns. The code chunk below rename and combine the dataset use <code>rbind</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dec_23_rename <span class="ot">&lt;-</span> dec_23 <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Highest 30 Min Rainfall (mm)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Highest 30 min Rainfall (mm)</span><span class="st">`</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Highest 60 Min Rainfall (mm)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Highest 60 min Rainfall (mm)</span><span class="st">`</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Highest 120 Min Rainfall (mm)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Highest 120 min Rainfall (mm)</span><span class="st">`</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>jul_23_rename <span class="ot">&lt;-</span> jul_23 <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Highest 30 Min Rainfall (mm)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Highest 30 min Rainfall (mm)</span><span class="st">`</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Highest 60 Min Rainfall (mm)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Highest 60 min Rainfall (mm)</span><span class="st">`</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Highest 120 Min Rainfall (mm)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Highest 120 min Rainfall (mm)</span><span class="st">`</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>comb_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(jul_83, dec_83, jul_93, dec_93, jul_03, dec_03, jul_13, dec_13, jul_23_rename, dec_23_rename)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="filtering-rainfall-related-data" class="level3">
<h3 class="anchored" data-anchor-id="filtering-rainfall-related-data"><strong>Filtering Rainfall Related Data</strong></h3>
<p>The code chunk below filtered columns relevant to the rainfall analysis <code>Daily Rainfall Total (mm)</code> and renaming them to <code>daily_rainfall</code> for ease of reference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> comb_data <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, Month, Day, <span class="st">`</span><span class="at">Daily Rainfall Total (mm)</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">daily_rainfall</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Daily Rainfall Total (mm)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="summary-statistics" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h2>
<p>A quick summary statistic of the data frame is conducted as below</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Data Structure</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">First 5 Rows</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Data Health</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Summary data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>the code below use <code>dim()</code> to check the dataframe dimension</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 310   4</code></pre>
</div>
</div>
<p>The dataset comprises 310 observations, with 4 variables. 5 years of July and December Data, 31*5*2 = 310 days</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [310 × 4] (S3: tbl_df/tbl/data.frame)
 $ Year          : num [1:310] 1983 1983 1983 1983 1983 ...
 $ Month         : num [1:310] 7 7 7 7 7 7 7 7 7 7 ...
 $ Day           : num [1:310] 1 2 3 4 5 6 7 8 9 10 ...
 $ daily_rainfall: num [1:310] 8.7 0 5.3 6.2 39.5 14.9 0 0 10.5 55.5 ...</code></pre>
</div>
</div>
<p>The dataset presents’Year’, ‘Month’, and ‘Day’ information in separate columns. While this format is advantageous for certain types of grouping and categorization, combining into a datetime format can significantly facilitate time series analysis.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(<span class="fu">paste</span>(Year, Month, Day, <span class="at">sep=</span><span class="st">"-"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Displaying first 5 rows using <strong><code>head()</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
   Year Month   Day daily_rainfall date      
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;          &lt;dbl&gt; &lt;date&gt;    
1  1983     7     1            8.7 1983-07-01
2  1983     7     2            0   1983-07-02
3  1983     7     3            5.3 1983-07-03
4  1983     7     4            6.2 1983-07-04
5  1983     7     5           39.5 1983-07-05
6  1983     7     6           14.9 1983-07-06</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>the code below use <code>anyDuplicated()</code> to check if any duplicated entries in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anyDuplicated</span>(rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>the code use <code>is.na()</code> to check for total number of missing entries in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(rainfall))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>All observations are unique, and there is no missing data in the dataframe.</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Year          Month           Day     daily_rainfall   
 Min.   :1983   Min.   : 7.0   Min.   : 1   Min.   :  0.000  
 1st Qu.:1993   1st Qu.: 7.0   1st Qu.: 8   1st Qu.:  0.000  
 Median :2003   Median : 9.5   Median :16   Median :  0.600  
 Mean   :2003   Mean   : 9.5   Mean   :16   Mean   :  8.031  
 3rd Qu.:2013   3rd Qu.:12.0   3rd Qu.:24   3rd Qu.:  8.700  
 Max.   :2023   Max.   :12.0   Max.   :31   Max.   :164.400  
      date           
 Min.   :1983-07-01  
 1st Qu.:1993-07-16  
 Median :2003-09-30  
 Mean   :2003-09-30  
 3rd Qu.:2013-12-15  
 Max.   :2023-12-31  </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="feature-engineering" class="level2">
<h2 class="anchored" data-anchor-id="feature-engineering">Feature Engineering</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Seasonality</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">If Rain</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Intensity of Rain</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>create new col to define dry and wet season</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>      Month <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"Dry Season"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>      Month <span class="sc">==</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"Wet Season"</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>In order to undersatand the Frequency of rains, a new column is created to check if that day rains</p>
<p>According to <a href="http://www.weather.gov.sg/climate-climate-of-singapore/">Meteorological Service Singapore</a>, <em><code>A day is considered to have “rained” if the total rainfall for that day is 0.2mm or more</code></em></p>
<p>The code chunk below creates a new column to check the daily rainfall and decide if the day rains,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">if_rain =</span> daily_rainfall <span class="sc">&gt;</span> <span class="fl">0.2</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>In this study, I analyze the distribution of daily rainfall volumes, as shown in histogram below. A notable observation from this graph is its rightward skew, indicating a concentration of days with lower rainfall volumes and fewer instances of high rainfall.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>filtered_rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> <span class="fu">filter</span>(if_rain <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(filtered_rainfall, <span class="fu">aes</span>(<span class="at">x =</span> daily_rainfall)) <span class="sc">+</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span>  </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Number of Days"</span>, <span class="at">x =</span> <span class="st">"Daily Rainfall (mm)"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Understanding the severity of precipitation is crucial. Classification of daily rainfall intensity is crucial for our analysis. In this context, I adopt the classification standards set by the Chinese Meteorology Department used under this <a href="https://www.researchgate.net/figure/Classification-standards-of-rainfall-intensity-and-corre-sponding-records-of-rainfall_tbl2_272011912">paper,</a> which are as follows:</p>
<ul>
<li><p>Less than 0.2 mm: Not rain</p></li>
<li><p>0.2-10 mm: Light rainfall</p></li>
<li><p>10-25 mm: Moderate rainfall</p></li>
<li><p>25-50 mm: Heavy rainfall</p></li>
<li><p>50-100 mm: Storm</p></li>
<li><p>100-250 mm: Severe storm</p></li>
<li><p>250 mm or more: Extreme storm</p></li>
</ul>
<p>The code below use <strong><code>dplyr</code></strong> package to create a new column intensity.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Intensity =</span> <span class="fu">case_when</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&lt;</span> <span class="fl">0.2</span> <span class="sc">~</span> <span class="st">"Not rain"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&gt;=</span> <span class="fl">0.2</span> <span class="sc">&amp;</span> daily_rainfall <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"Light rainfall"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> daily_rainfall <span class="sc">&lt;</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">"Moderate rainfall"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">&amp;</span> daily_rainfall <span class="sc">&lt;</span> <span class="dv">50</span> <span class="sc">~</span> <span class="st">"Heavy rainfall"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> daily_rainfall <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">~</span> <span class="st">"Storm"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&gt;=</span> <span class="dv">100</span> <span class="sc">&amp;</span> daily_rainfall <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">~</span> <span class="st">"Severe storm"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>      daily_rainfall <span class="sc">&gt;=</span> <span class="dv">250</span> <span class="sc">~</span> <span class="st">"Extreme storm"</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<section id="total-volume-of-rainfall" class="level2">
<h2 class="anchored" data-anchor-id="total-volume-of-rainfall">Total Volume of Rainfall</h2>
<p>On the bigger picture, it is necessary to understand the total rainfall within the selected month between the dry and wet season across the years.</p>
<p>this drawing is inspired by <a href="https://www.economist.com/graphic-detail/2021/08/23/the-number-of-child-labourers-has-increased-for-the-first-time-in-20-years">the economist</a> and <a href="https://r-graph-gallery.com/web-time-series-and-facetting.html">this plot</a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the colors scheme</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>RED <span class="ot">&lt;-</span> <span class="st">"#FF6666"</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>BLUE <span class="ot">&lt;-</span> <span class="st">"#00BFFF"</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by to get monthly rainfall</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>total_rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, season) <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">monthly_rainfall =</span> <span class="fu">sum</span>(daily_rainfall), <span class="at">.groups =</span> <span class="st">'drop'</span>) </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot table</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>pivot_season <span class="ot">&lt;-</span> total_rainfall <span class="sc">%&gt;%</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> season,      </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> monthly_rainfall, </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">monthly_rainfall =</span> <span class="dv">0</span>) </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create custom hover text for each season</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>pivot_season<span class="sc">$</span>hover_text_dry <span class="ot">&lt;-</span> <span class="fu">paste</span>(pivot_season<span class="sc">$</span>Year, <span class="st">"Dry Season:"</span>, pivot_season<span class="sc">$</span><span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>pivot_season<span class="sc">$</span>hover_text_wet <span class="ot">&lt;-</span> <span class="fu">paste</span>(pivot_season<span class="sc">$</span>Year, <span class="st">"Wet Season:"</span>, pivot_season<span class="sc">$</span><span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span>)</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>pivot_season<span class="sc">$</span>diff_label <span class="ot">&lt;-</span> <span class="fu">paste</span>(pivot_season<span class="sc">$</span>Year, <span class="st">"Difference:"</span>, <span class="fu">round</span>(pivot_season<span class="sc">$</span><span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span> <span class="sc">-</span> pivot_season<span class="sc">$</span><span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>))</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="co"># draw 2 line plot with area shaded in between</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>plt1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pivot_season, <span class="fu">aes</span>(<span class="at">x =</span> Year)) <span class="sc">+</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> <span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>, <span class="at">ymax =</span> <span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span>), <span class="at">fill =</span> <span class="st">"gray70"</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">"Dry Season"</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">"Wet Season"</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">"Dry Season"</span>, <span class="at">text =</span> hover_text_dry), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">pch =</span> <span class="dv">21</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">stroke =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">"Wet Season"</span>, <span class="at">text =</span> hover_text_wet), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">pch =</span> <span class="dv">21</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">stroke =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Dry Season"</span> <span class="ot">=</span> RED, <span class="st">"Wet Season"</span> <span class="ot">=</span> BLUE),</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Season"</span>,</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Dry Season"</span>, <span class="st">"Wet Season"</span>)) <span class="sc">+</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Dry Season"</span> <span class="ot">=</span> RED, <span class="st">"Wet Season"</span> <span class="ot">=</span> BLUE),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>                    <span class="at">name =</span> <span class="st">"Season"</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Dry Season"</span>, <span class="st">"Wet Season"</span>)) <span class="sc">+</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data =</span> pivot_season, <span class="fu">aes</span>(<span class="at">x =</span> Year,<span class="at">xend =</span> Year, </span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">y =</span> <span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>, <span class="at">yend =</span> <span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span>),</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>               <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"grey50"</span>) <span class="sc">+</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> pivot_season, <span class="fu">aes</span>(<span class="at">x =</span> Year <span class="sc">+</span> <span class="dv">1</span> , <span class="at">y =</span> (<span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span>) <span class="sc">/</span> <span class="dv">2</span>, <span class="at">label =</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Wet Season</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Dry Season</span><span class="st">`</span>), <span class="at">text =</span> diff_label), </span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) </span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a><span class="co"># adjust the layout</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>plt1 <span class="ot">&lt;-</span> plt1 <span class="sc">+</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Season"</span>), <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Season"</span>)) <span class="sc">+</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Difference in Monthly Rainfall by Season"</span>) <span class="sc">+</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1980</span>, <span class="dv">2026</span>),</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1983</span>, <span class="dv">1993</span>, <span class="dv">2003</span>, <span class="dv">2013</span>, <span class="dv">2023</span>),  </span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"1983"</span>, <span class="st">"1993"</span>, <span class="st">"2003"</span>, <span class="st">"2013"</span>, <span class="st">'2023'</span>) </span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">410</span>),</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">400</span>, <span class="at">by =</span> <span class="dv">50</span>), </span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"#D3D3D3"</span>, <span class="at">linetype =</span> <span class="st">"solid"</span>, <span class="at">size =</span> <span class="fl">0.2</span>),</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"#D3D3D3"</span>, <span class="at">size =</span> <span class="fl">0.1</span>),</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.length.y =</span> <span class="fu">unit</span>(<span class="dv">0</span>, <span class="st">"mm"</span>), </span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.length.x =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"mm"</span>),</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.bottom =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>plt1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="average-volume-of-rainfall" class="level2">
<h2 class="anchored" data-anchor-id="average-volume-of-rainfall">Average Volume of Rainfall</h2>
<p>Focusing on the days with precipitation, what are the mean and standard deviation of daily rainfall? To illustrate this, an error bar graph is utilized to represent these statistical measures.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter only rainy days</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>filtered_rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(if_rain <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'filtered_rainfall' is your dataframe</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>rainfall_summary <span class="ot">&lt;-</span> filtered_rainfall <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, season) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_rainfall =</span> <span class="fu">mean</span>(daily_rainfall),</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">se_rainfall =</span> <span class="fu">sd</span>(daily_rainfall) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>plt2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_summary, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean_rainfall, <span class="at">color =</span> season)) <span class="sc">+</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span> </span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean_rainfall <span class="sc">-</span> se_rainfall, <span class="at">ymax =</span> mean_rainfall <span class="sc">+</span> se_rainfall),</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">3</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.6</span>,  </span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.8</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(),</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>, </span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.9</span> </span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Dry Season"</span> <span class="ot">=</span> <span class="st">"#FF6666"</span>, <span class="st">"Wet Season"</span> <span class="ot">=</span> <span class="st">"#00BFFF"</span>)) <span class="sc">+</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Standard Error of Average Daily Rainfall by Season"</span>) <span class="sc">+</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Average Daily Rainfall"</span>)</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="co"># adjust the layout</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>plt2 <span class="ot">&lt;-</span> plt2 <span class="sc">+</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Season"</span>), <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Season"</span>)) <span class="sc">+</span></span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1980</span>, <span class="dv">2026</span>),</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1983</span>, <span class="dv">1993</span>, <span class="dv">2003</span>, <span class="dv">2013</span>, <span class="dv">2023</span>),  </span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"1983"</span>, <span class="st">"1993"</span>, <span class="st">"2003"</span>, <span class="st">"2013"</span>, <span class="st">'2023'</span>) </span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">35</span>),</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">35</span>, <span class="at">by =</span> <span class="dv">5</span>), </span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"#D3D3D3"</span>, <span class="at">linetype =</span> <span class="st">"solid"</span>, <span class="at">size =</span> <span class="fl">0.2</span>),</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"#D3D3D3"</span>, <span class="at">size =</span> <span class="fl">0.1</span>),</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.length.y =</span> <span class="fu">unit</span>(<span class="dv">0</span>, <span class="st">"mm"</span>), </span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.length.x =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"mm"</span>),</span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.bottom =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>plt2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="frequency-of-rainfall" class="level2">
<h2 class="anchored" data-anchor-id="frequency-of-rainfall">Frequency of Rainfall</h2>
<p>Further, it’s important to gauge the frequency of rainfall and its corresponding intensity. This aspect looks into how often it rains and the typical severity of these rainfall events.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set the order</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Intensity <span class="ot">&lt;-</span> <span class="fu">factor</span>(rainfall<span class="sc">$</span>Intensity, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Not rain"</span>, </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                                                            <span class="st">"Light rainfall"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                                                            <span class="st">"Moderate rainfall"</span>, </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                                                            <span class="st">"Heavy rainfall"</span>, </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                                                            <span class="st">"Storm"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                                                            <span class="st">"Severe storm"</span>, </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                                                            <span class="st">"Extreme storm"</span>))</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co"># get summary data</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>rainfall_summary <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, season, Intensity) <span class="sc">%&gt;%</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">days_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co"># set color scale</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>color_scale <span class="ot">&lt;-</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Not rain"</span> <span class="ot">=</span> <span class="st">"grey"</span>,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Light rainfall"</span> <span class="ot">=</span> <span class="st">"#ADD8E6"</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Moderate rainfall"</span> <span class="ot">=</span> <span class="st">"#87CEEB"</span>,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Heavy rainfall"</span> <span class="ot">=</span> <span class="st">"#00BFFF"</span>,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Storm"</span> <span class="ot">=</span> <span class="st">"#1E90FF"</span>,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Severe storm"</span> <span class="ot">=</span> <span class="st">"#0000CD"</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Extreme storm"</span> <span class="ot">=</span> <span class="st">"dark blue"</span>))</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot as a stacked bar chart</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>plt3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Year), <span class="at">y =</span> days_count, <span class="at">fill =</span> Intensity)) <span class="sc">+</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> days_count), <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span>  <span class="co"># Add white labels</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>season) <span class="sc">+</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Frequency of Rainfall Intensity in Selected Month"</span>,</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Days"</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>  color_scale</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>plt3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="intensity-of-rainfall" class="level2">
<h2 class="anchored" data-anchor-id="intensity-of-rainfall">Intensity of Rainfall</h2>
<p>Delving deeper, I analyze the distribution and intensity of daily rainfall. This granular view provides insight into the daily variations and characteristics of rainfall, offering a detailed perspective on its intensity and distribution patterns.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set the color scale for daily rainfall based on intensity</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>color_scale <span class="ot">&lt;-</span> <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Not rain"</span> <span class="ot">=</span> <span class="st">"white"</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Light rainfall"</span> <span class="ot">=</span> <span class="st">"#ADD8E6"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Moderate rainfall"</span> <span class="ot">=</span> <span class="st">"#87CEEB"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Heavy rainfall"</span> <span class="ot">=</span> <span class="st">"#00BFFF"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Storm"</span> <span class="ot">=</span> <span class="st">"#1E90FF"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Severe storm"</span> <span class="ot">=</span> <span class="st">"#0000CD"</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Extreme storm"</span> <span class="ot">=</span> <span class="st">"dark blue"</span>),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">"Not rain"</span>, <span class="st">"Light rainfall"</span>, <span class="st">"Moderate rainfall"</span>, </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"Heavy rainfall"</span>, <span class="st">"Storm"</span>, <span class="st">"Severe storm"</span>, <span class="st">"Extreme storm"</span>))</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co"># filter only rainy days</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>filtered_rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(if_rain <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>filtered_rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.character</span>(filtered_rainfall<span class="sc">$</span>Year)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>filtered_rainfall<span class="sc">$</span>Day <span class="ot">&lt;-</span> <span class="fu">as.character</span>(filtered_rainfall<span class="sc">$</span>Day)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># plot a scatter diagram</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>plt4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(filtered_rainfall, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>Day, <span class="at">size =</span> daily_rainfall, <span class="at">color =</span> Intensity)) <span class="sc">+</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="dv">10</span>), <span class="at">name =</span> <span class="st">"Daily Rainfall"</span>) <span class="sc">+</span> </span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>season) <span class="sc">+</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  color_scale <span class="sc">+</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">order =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Intensity of Daily Rainfall in Selected Month"</span>,</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span> </span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>plt4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="analysis-dashboard" class="level1">
<h1>Analysis Dashboard</h1>
<section id="static-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="static-dashboard">Static Dashboard</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>patchwork <span class="ot">&lt;-</span> (plt1 <span class="sc">|</span> plt3) <span class="sc">/</span> (plt2 <span class="sc">|</span> plt4)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>patchwork <span class="sc">+</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">"Volumn, Frequency, Intensity of Rainfall Comparasion in Selected Months"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Volume</strong></p>
<p>Regarding the total volume of monthly rainfall, both dry and wet seasons appear to have decreased from 1983 to 2023. There is no clear pattern in the difference between the two seasons in the selected data.</p>
<p>Interestingly, when examining the average daily rainfall for rainy days, the wet season’s average gradually declines over time, while the dry season’s average actually increases. Specifically, in 2023, the mean daily rainfall for the dry season is higher than that of the wet season. The standard error for the wet season diminishes over time, indicating more consistent rainfall amounts, whereas it increases for the dry season, suggesting greater variability. This inconsistency in the dry season, with larger mean values, might be attributed to anomalies, as can also be inferred from the chart at the bottom right.</p>
<p>When analyzing the two charts in parallel, the wet season exhibits higher total monthly rainfall but lower average rainfall on rainy days as we approach 2023. This suggests a more frequent, yet lighter, rainfall pattern in the wet season, supported by the higher proportion of blue in the bottom left chart and smaller blue bubbles in the wet season on the right chart. In contrast, the dry season demonstrates a more irregular rainfall pattern. Despite more non-rainy days and lower total monthly rainfall, the average rainfall actually increases.</p>
<p><strong>Frequency</strong></p>
<p>The number of rainy days from 1983 to 2023 increases in the wet season and decreases in the dry season. Considering the frequency of rainy days, there is a more pronounced contrast between the wet and dry seasons over the years in the selected data. However, the occurrence of heavier rains (indicated by darker colors) varies over time.</p>
<p><strong>Intensity</strong></p>
<p>In terms of rainfall intensity, earlier years seem to have experienced more extreme rainfall. The bottom chart shows more dots (rainy days) for the wet season in 2023 compared to earlier years, and fewer dots for the dry season. However, the intensity of rainfall, especially heavy rainfall, has decreased.</p>
</div>
</div>
<p>As the static charts only shows an overall trends, it would be more interesting to interactively filter and select based on the rainy patterns, to understand and dive into the overall rainy behaviors between dry and wet season across the years.</p>
</section>
<section id="interactive-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="interactive-dashboard">Interactive Dashboard</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>plt1_int <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(plt1, <span class="at">tooltip =</span> <span class="st">"text"</span>) </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#plt1_int</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>plt2_int <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(plt2)  <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plt2_int</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get pivot table</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>rainfall_pivot <span class="ot">&lt;-</span> rainfall_summary <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Intensity, <span class="at">values_from =</span> days_count, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">days_count =</span> <span class="dv">0</span>))</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Year to factor</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>rainfall_pivot<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall_pivot<span class="sc">$</span>Year)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the color scale</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Not rain"</span> <span class="ot">=</span> <span class="st">"grey"</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Light rainfall"</span> <span class="ot">=</span> <span class="st">"#ADD8E6"</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Moderate rainfall"</span> <span class="ot">=</span> <span class="st">"#87CEEB"</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Heavy rainfall"</span> <span class="ot">=</span> <span class="st">"#00BFFF"</span>,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Storm"</span> <span class="ot">=</span> <span class="st">"#1E90FF"</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Severe storm"</span> <span class="ot">=</span> <span class="st">"#0000CD"</span>,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Extreme storm"</span> <span class="ot">=</span> <span class="st">"dark blue"</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create individual plots for wet season with trace</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>plot_wet <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">data =</span> <span class="fu">filter</span>(rainfall_pivot, season <span class="sc">==</span> <span class="st">"Wet Season"</span>), </span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>                    <span class="at">x =</span> <span class="sc">~</span>Year, <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>                    <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Severe storm</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Severe storm'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Severe storm"</span>]),</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>                    <span class="at">legendgroup =</span> <span class="st">"Severe storm"</span>,<span class="at">showlegend =</span> <span class="cn">FALSE</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>                    ) <span class="sc">%&gt;%</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span>Storm, <span class="at">name =</span> <span class="st">'Storm'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Storm"</span>]),</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Storm"</span>,<span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Heavy rainfall</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Heavy rainfall'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Heavy rainfall"</span>]),</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Heavy rainfall"</span>,<span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Moderate rainfall</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Moderate rainfall'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Moderate rainfall"</span>]),</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Moderate rainfall"</span>,<span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Light rainfall</span><span class="st">`</span>,<span class="at">name =</span> <span class="st">'Light rainfall'</span>,<span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Light rainfall"</span>]),</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Light rainfall"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Not rain</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Not rain'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Not rain"</span>]),</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Not rain"</span>,<span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Number of Days'</span>), <span class="at">barmode =</span> <span class="st">'stack'</span>,<span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create individual plots for dry season with trace</span></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>plot_dry <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">data =</span> <span class="fu">filter</span>(rainfall_pivot, season <span class="sc">==</span> <span class="st">"Dry Season"</span>), </span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>                    <span class="at">x =</span> <span class="sc">~</span>Year, <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>                    <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Severe storm</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Severe storm'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Severe storm"</span>]),</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>                    <span class="at">legendgroup =</span> <span class="st">"Severe storm"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>                    ) <span class="sc">%&gt;%</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span>Storm, <span class="at">name =</span> <span class="st">'Storm'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Storm"</span>]),</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Storm"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Heavy rainfall</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Heavy rainfall'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Heavy rainfall"</span>]),</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Heavy rainfall"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Moderate rainfall</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Moderate rainfall'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Moderate rainfall"</span>]),</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Moderate rainfall"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Light rainfall</span><span class="st">`</span>,<span class="at">name =</span> <span class="st">'Light rainfall'</span>,<span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Light rainfall"</span>]),</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Light rainfall"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Not rain</span><span class="st">`</span>, <span class="at">name =</span> <span class="st">'Not rain'</span>, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> colors[<span class="st">"Not rain"</span>]),</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>            <span class="at">legendgroup =</span> <span class="st">"Not rain"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Number of Days'</span>), </span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>         <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>         <span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the plots using subplot</span></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>plt_bar <span class="ot">&lt;-</span> <span class="fu">subplot</span>(plot_dry, plot_wet, <span class="at">nrows =</span> <span class="dv">1</span>, <span class="at">shareX =</span> <span class="cn">TRUE</span>, <span class="at">shareY =</span> <span class="cn">TRUE</span>, <span class="at">titleX =</span> <span class="cn">FALSE</span>, <span class="at">titleY =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Dry Season"</span>, </span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fl">0.07</span>, <span class="at">xref =</span> <span class="st">"paper"</span>, <span class="at">y =</span> <span class="fl">0.98</span>, <span class="at">yref =</span> <span class="st">"paper"</span>,</span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">showarrow =</span> <span class="cn">FALSE</span>, <span class="at">xanchor =</span> <span class="st">"center"</span>, <span class="at">yanchor =</span> <span class="st">"bottom"</span></span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Wet Season"</span>, <span class="co">#</span></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fl">0.59</span>, <span class="at">xref =</span> <span class="st">"paper"</span>, <span class="at">y =</span> <span class="fl">0.98</span>, <span class="at">yref =</span> <span class="st">"paper"</span>,</span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">showarrow =</span> <span class="cn">FALSE</span>, <span class="at">xanchor =</span> <span class="st">"center"</span>, <span class="at">yanchor =</span> <span class="st">"bottom"</span></span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a>plt3_int <span class="ot">&lt;-</span> plt_bar <span class="sc">%&gt;%</span></span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a><span class="co"># plt3_int</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>plt4_int <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(plt4) </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># plt4_int</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> <span class="fu">subplot</span>(plt1_int, plt3_int, plt2_int, plt4_int, <span class="at">nrows =</span> <span class="dv">2</span>, <span class="at">shareX =</span> <span class="cn">TRUE</span>, <span class="at">shareY =</span> <span class="cn">FALSE</span>, <span class="at">titleX =</span> <span class="cn">FALSE</span>, <span class="at">titleY =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjusting layout</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> plt <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Volume, Frequency, Intensity of Rainfall Comparison in Selected Months"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">showlegend =</span> <span class="cn">TRUE</span>,  </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">8</span>),  </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">l =</span> <span class="dv">50</span>, <span class="at">r =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">50</span>, <span class="at">t =</span> <span class="dv">100</span>, <span class="at">pad =</span> <span class="dv">4</span>),  </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">8</span>)),  </span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">uniformtext =</span> <span class="fu">list</span>(<span class="at">minsize =</span> <span class="dv">8</span>, <span class="at">mode =</span> <span class="st">'hide'</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-86c5364f1bf6698e68d1" style="width:100%;height:585px;"></div>
<script type="application/json" data-for="htmlwidget-86c5364f1bf6698e68d1">{"x":{"data":[{"x":[1983,1993,2003,2013,2023,2023,2023,2013,2003,1993,1983,1983],"y":[190.00000000000003,240.00000000000003,170.40000000000003,174.59999999999999,157.99999999999997,157.99999999999997,256.19999999999999,348.19999999999993,273,308.50000000000006,370.60000000000002,190.00000000000003],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(179,179,179,0.3)","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1983,1993,2003,2013,2023],"y":[190.00000000000003,240.00000000000003,170.40000000000003,174.59999999999999,157.99999999999997],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(255,102,102,1)","dash":"solid"},"hoveron":"points","name":"(Dry Season,1)","legendgroup":"(Dry Season,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1983,1993,2003,2013,2023],"y":[370.60000000000002,308.50000000000006,273,348.19999999999993,256.19999999999999],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,191,255,1)","dash":"solid"},"hoveron":"points","name":"(Wet Season,1)","legendgroup":"(Wet Season,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1983,1993,2003,2013,2023],"y":[190.00000000000003,240.00000000000003,170.40000000000003,174.59999999999999,157.99999999999997],"text":["1983 Dry Season: 190","1993 Dry Season: 240","2003 Dry Season: 170.4","2013 Dry Season: 174.6","2023 Dry Season: 158"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,102,102,1)","opacity":1,"size":15.118110236220474,"symbol":"circle","line":{"width":3.7795275590551185,"color":"rgba(255,255,255,1)"}},"hoveron":"points","name":"(Dry Season,1)","legendgroup":"(Dry Season,1)","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1983,1993,2003,2013,2023],"y":[370.60000000000002,308.50000000000006,273,348.19999999999993,256.19999999999999],"text":["1983 Wet Season: 370.6","1993 Wet Season: 308.5","2003 Wet Season: 273","2013 Wet Season: 348.2","2023 Wet Season: 256.2"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,255,1)","opacity":1,"size":15.118110236220474,"symbol":"circle","line":{"width":3.7795275590551185,"color":"rgba(255,255,255,1)"}},"hoveron":"points","name":"(Wet Season,1)","legendgroup":"(Wet Season,1)","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1983,1983,null,1993,1993,null,2003,2003,null,2013,2013,null,2023,2023],"y":[190.00000000000003,370.60000000000002,null,240.00000000000003,308.50000000000006,null,170.40000000000003,273,null,174.59999999999999,348.19999999999993,null,157.99999999999997,256.19999999999999],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(127,127,127,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1984,1994,2004,2014,2024],"y":[280.30000000000001,274.25000000000006,221.70000000000002,261.39999999999998,207.09999999999997],"text":[181,69,103,174,98],"hovertext":["1983 Difference: 181","1993 Difference: 69","2003 Difference: 103","2013 Difference: 174","2023 Difference: 98"],"textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[0,0,0,0,0],"marker":{"color":"#0000CD","line":{"color":"rgba(127,127,127,1)"}},"legendgroup":"Severe storm","showlegend":false,"name":"Severe storm","type":"bar","error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[1,0,0,0,1],"marker":{"color":"#1E90FF","line":{"color":"rgba(188,189,34,1)"}},"legendgroup":"Storm","showlegend":false,"name":"Storm","type":"bar","error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[1,4,1,2,1],"marker":{"color":"#00BFFF","line":{"color":"rgba(23,190,207,1)"}},"legendgroup":"Heavy rainfall","showlegend":false,"name":"Heavy rainfall","type":"bar","error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[2,4,7,5,3],"marker":{"color":"#87CEEB","line":{"color":"rgba(31,119,180,1)"}},"legendgroup":"Moderate rainfall","showlegend":false,"name":"Moderate rainfall","type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[14,7,6,8,9],"marker":{"color":"#ADD8E6","line":{"color":"rgba(255,127,14,1)"}},"legendgroup":"Light rainfall","showlegend":false,"name":"Light rainfall","type":"bar","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[13,16,17,16,17],"marker":{"color":"grey","line":{"color":"rgba(44,160,44,1)"}},"legendgroup":"Not rain","showlegend":false,"name":"Not rain","type":"bar","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[1,0,0,1,0],"marker":{"color":"#0000CD","line":{"color":"rgba(214,39,40,1)"}},"legendgroup":"Severe storm","showlegend":false,"name":"Severe storm","type":"bar","error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x3","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[0,2,1,1,1],"marker":{"color":"#1E90FF","line":{"color":"rgba(148,103,189,1)"}},"legendgroup":"Storm","showlegend":false,"name":"Storm","type":"bar","error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x3","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[2,4,2,2,2],"marker":{"color":"#00BFFF","line":{"color":"rgba(140,86,75,1)"}},"legendgroup":"Heavy rainfall","showlegend":false,"name":"Heavy rainfall","type":"bar","error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x3","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[5,1,5,5,4],"marker":{"color":"#87CEEB","line":{"color":"rgba(227,119,194,1)"}},"legendgroup":"Moderate rainfall","showlegend":false,"name":"Moderate rainfall","type":"bar","error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x3","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[8,12,9,12,16],"marker":{"color":"#ADD8E6","line":{"color":"rgba(127,127,127,1)"}},"legendgroup":"Light rainfall","showlegend":false,"name":"Light rainfall","type":"bar","error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x3","yaxis":"y2","frame":null},{"x":["1983","1993","2003","2013","2023"],"y":[15,12,14,10,8],"marker":{"color":"grey","line":{"color":"rgba(188,189,34,1)"}},"legendgroup":"Not rain","showlegend":false,"name":"Not rain","type":"bar","error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x3","yaxis":"y2","frame":null},{"x":[1983,1993,2003,2013,2023],"y":[10.555555555555555,15.986666666666666,12.164285714285715,11.640000000000001,14.309090909090907],"text":["Year: 1983<br />mean_rainfall: 10.55556<br />season: Dry Season","Year: 1993<br />mean_rainfall: 15.98667<br />season: Dry Season","Year: 2003<br />mean_rainfall: 12.16429<br />season: Dry Season","Year: 2013<br />mean_rainfall: 11.64000<br />season: Dry Season","Year: 2023<br />mean_rainfall: 14.30909<br />season: Dry Season"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(255,102,102,0.5)","dash":"dash"},"hoveron":"points","name":"Dry Season","legendgroup":"Dry Season","showlegend":true,"xaxis":"x4","yaxis":"y3","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(255,102,102,1)","opacity":0.90000000000000002,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,102,102,1)"}},"frame":null},{"x":[1983,1993,2003,2013,2023],"y":[23.15625,16.231578947368423,16.05294117647059,18.305263157894736,11.636363636363637],"text":["Year: 1983<br />mean_rainfall: 23.15625<br />season: Wet Season","Year: 1993<br />mean_rainfall: 16.23158<br />season: Wet Season","Year: 2003<br />mean_rainfall: 16.05294<br />season: Wet Season","Year: 2013<br />mean_rainfall: 18.30526<br />season: Wet Season","Year: 2023<br />mean_rainfall: 11.63636<br />season: Wet Season"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(0,191,255,0.5)","dash":"dash"},"hoveron":"points","name":"Wet Season","legendgroup":"Wet Season","showlegend":true,"xaxis":"x4","yaxis":"y3","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,191,255,1)","opacity":0.90000000000000002,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,255,1)"}},"frame":null},{"x":[1983,1993,2003,2013,2023],"y":[10.555555555555555,15.986666666666666,12.164285714285715,11.640000000000001,14.309090909090907],"text":["Year: 1983<br />mean_rainfall: 10.55556<br />season: Dry Season<br />mean_rainfall - se_rainfall:  7.212284<br />mean_rainfall + se_rainfall: 13.89883","Year: 1993<br />mean_rainfall: 15.98667<br />season: Dry Season<br />mean_rainfall - se_rainfall: 12.314275<br />mean_rainfall + se_rainfall: 19.65906","Year: 2003<br />mean_rainfall: 12.16429<br />season: Dry Season<br />mean_rainfall - se_rainfall:  9.809594<br />mean_rainfall + se_rainfall: 14.51898","Year: 2013<br />mean_rainfall: 11.64000<br />season: Dry Season<br />mean_rainfall - se_rainfall:  8.702998<br />mean_rainfall + se_rainfall: 14.57700","Year: 2023<br />mean_rainfall: 14.30909<br />season: Dry Season<br />mean_rainfall - se_rainfall:  9.034013<br />mean_rainfall + se_rainfall: 19.58417"],"type":"scatter","mode":"lines","opacity":0.59999999999999998,"line":{"color":"transparent"},"error_y":{"array":[3.3432716767741741,3.6723920667684009,2.3546915325580944,2.9370020347934656,5.2750778459650949],"arrayminus":[3.343271676774175,3.6723920667684009,2.3546915325580944,2.9370020347934656,5.2750778459650949],"type":"data","width":10.956521739130437,"symmetric":false,"color":"rgba(255,102,102,1)"},"name":"Dry Season","legendgroup":"Dry Season","showlegend":false,"xaxis":"x4","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1983,1993,2003,2013,2023],"y":[23.15625,16.231578947368423,16.05294117647059,18.305263157894736,11.636363636363637],"text":["Year: 1983<br />mean_rainfall: 23.15625<br />season: Wet Season<br />mean_rainfall - se_rainfall: 13.076799<br />mean_rainfall + se_rainfall: 33.23570","Year: 1993<br />mean_rainfall: 16.23158<br />season: Wet Season<br />mean_rainfall - se_rainfall: 11.827354<br />mean_rainfall + se_rainfall: 20.63580","Year: 2003<br />mean_rainfall: 16.05294<br />season: Wet Season<br />mean_rainfall - se_rainfall: 10.505392<br />mean_rainfall + se_rainfall: 21.60049","Year: 2013<br />mean_rainfall: 18.30526<br />season: Wet Season<br />mean_rainfall - se_rainfall: 11.299395<br />mean_rainfall + se_rainfall: 25.31113","Year: 2023<br />mean_rainfall: 11.63636<br />season: Wet Season<br />mean_rainfall - se_rainfall:  8.595014<br />mean_rainfall + se_rainfall: 14.67771"],"type":"scatter","mode":"lines","opacity":0.59999999999999998,"line":{"color":"transparent"},"error_y":{"array":[10.079450914070996,4.4042247967521213,5.5475492578404477,7.0058683575643244,3.0413495626998284],"arrayminus":[10.079450914070998,4.4042247967521213,5.5475492578404477,7.0058683575643261,3.0413495626998284],"type":"data","width":10.956521739130437,"symmetric":false,"color":"rgba(0,191,255,1)"},"name":"Wet Season","legendgroup":"Wet Season","showlegend":false,"xaxis":"x4","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5],"y":[1,23,26,3,4,5,9,10,13,16,18,20,21,24,28,4,5,6,10,18,20,23,4,7,10,13,22,12,26,30,31,5,6,8,22,1,28,2,3,10,14],"text":["Year: 1983<br />Day: 1<br />daily_rainfall:   8.7<br />Intensity: Light rainfall","Year: 1983<br />Day: 3<br />daily_rainfall:   5.3<br />Intensity: Light rainfall","Year: 1983<br />Day: 4<br />daily_rainfall:   6.2<br />Intensity: Light rainfall","Year: 1983<br />Day: 11<br />daily_rainfall:   1.0<br />Intensity: Light rainfall","Year: 1983<br />Day: 12<br />daily_rainfall:   3.0<br />Intensity: Light rainfall","Year: 1983<br />Day: 13<br />daily_rainfall:   4.5<br />Intensity: Light rainfall","Year: 1983<br />Day: 17<br />daily_rainfall:   7.9<br />Intensity: Light rainfall","Year: 1983<br />Day: 18<br />daily_rainfall:   1.3<br />Intensity: Light rainfall","Year: 1983<br />Day: 20<br />daily_rainfall:   4.1<br />Intensity: Light rainfall","Year: 1983<br />Day: 23<br />daily_rainfall:   8.7<br />Intensity: Light rainfall","Year: 1983<br />Day: 25<br />daily_rainfall:   1.9<br />Intensity: Light rainfall","Year: 1983<br />Day: 27<br />daily_rainfall:   6.1<br />Intensity: Light rainfall","Year: 1983<br />Day: 28<br />daily_rainfall:   2.0<br />Intensity: Light rainfall","Year: 1983<br />Day: 30<br />daily_rainfall:   8.9<br />Intensity: Light rainfall","Year: 1993<br />Day: 6<br />daily_rainfall:   4.8<br />Intensity: Light rainfall","Year: 1993<br />Day: 12<br />daily_rainfall:   1.0<br />Intensity: Light rainfall","Year: 1993<br />Day: 13<br />daily_rainfall:   8.9<br />Intensity: Light rainfall","Year: 1993<br />Day: 14<br />daily_rainfall:   0.9<br />Intensity: Light rainfall","Year: 1993<br />Day: 18<br />daily_rainfall:   2.8<br />Intensity: Light rainfall","Year: 1993<br />Day: 25<br />daily_rainfall:   2.0<br />Intensity: Light rainfall","Year: 1993<br />Day: 27<br />daily_rainfall:   9.1<br />Intensity: Light rainfall","Year: 2003<br />Day: 3<br />daily_rainfall:   1.3<br />Intensity: Light rainfall","Year: 2003<br />Day: 12<br />daily_rainfall:   4.9<br />Intensity: Light rainfall","Year: 2003<br />Day: 15<br />daily_rainfall:   3.7<br />Intensity: Light rainfall","Year: 2003<br />Day: 18<br />daily_rainfall:   5.0<br />Intensity: Light rainfall","Year: 2003<br />Day: 20<br />daily_rainfall:   0.4<br />Intensity: Light rainfall","Year: 2003<br />Day: 29<br />daily_rainfall:   9.5<br />Intensity: Light rainfall","Year: 2013<br />Day: 2<br />daily_rainfall:   2.6<br />Intensity: Light rainfall","Year: 2013<br />Day: 4<br />daily_rainfall:   2.2<br />Intensity: Light rainfall","Year: 2013<br />Day: 8<br />daily_rainfall:   2.2<br />Intensity: Light rainfall","Year: 2013<br />Day: 9<br />daily_rainfall:   8.8<br />Intensity: Light rainfall","Year: 2013<br />Day: 13<br />daily_rainfall:   1.6<br />Intensity: Light rainfall","Year: 2013<br />Day: 14<br />daily_rainfall:   4.4<br />Intensity: Light rainfall","Year: 2013<br />Day: 16<br />daily_rainfall:   0.6<br />Intensity: Light rainfall","Year: 2013<br />Day: 29<br />daily_rainfall:   2.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 1<br />daily_rainfall:   0.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 6<br />daily_rainfall:   1.2<br />Intensity: Light rainfall","Year: 2023<br />Day: 10<br />daily_rainfall:   5.8<br />Intensity: Light rainfall","Year: 2023<br />Day: 11<br />daily_rainfall:   4.6<br />Intensity: Light rainfall","Year: 2023<br />Day: 18<br />daily_rainfall:   7.8<br />Intensity: Light rainfall","Year: 2023<br />Day: 21<br />daily_rainfall:   0.4<br />Intensity: Light rainfall"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(173,216,230,1)","opacity":0.69999999999999996,"size":[8.8435589806022801,6.9093097555587581,7.4728224955952376,2.821762772246537,5.1775003490372349,6.3640403242436454,8.4303504653158949,3.2988644032142576,6.0718577810406158,8.8435589806022801,4.072646215749538,7.4124395273783659,4.1863556032094333,8.9437471570046565,6.5741420550818619,2.821762772246537,8.9437471570046565,2.6404811890595208,4.996319580710546,4.1863556032094333,9.0427769717900013,3.2988644032142576,6.6426103136947567,5.7638477135430293,6.7103383096683507,1.3016261208665187,9.2375164377541719,4.8077345968298433,4.4041516106107039,4.4041516106107039,8.8938004081808302,3.708304435052785,6.2923480665584925,1.977801953616086,4.6107558682538965,1.3016261208665187,3.1489728507885317,7.2280977676998903,6.4348840631724782,8.3771987444583829,1.3016261208665187],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(173,216,230,1)"}},"hoveron":"points","name":"Light rainfall","legendgroup":"Light rainfall","showlegend":true,"xaxis":"x5","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"y":[1,12,23,26,3,9,11,20,1,12,23,27,2,6,7,10,13,15,18,22,12,26,29,30,5,6,9,11,21,26,27,28,2,4,15,16,17,19,24,12,23,27,28,29,31,4,7,11,13,14,15,16,19,22],"text":["Year: 1983<br />Day: 1<br />daily_rainfall:   2.8<br />Intensity: Light rainfall","Year: 1983<br />Day: 2<br />daily_rainfall:   1.7<br />Intensity: Light rainfall","Year: 1983<br />Day: 3<br />daily_rainfall:   5.0<br />Intensity: Light rainfall","Year: 1983<br />Day: 4<br />daily_rainfall:   8.2<br />Intensity: Light rainfall","Year: 1983<br />Day: 11<br />daily_rainfall:   0.6<br />Intensity: Light rainfall","Year: 1983<br />Day: 17<br />daily_rainfall:   1.9<br />Intensity: Light rainfall","Year: 1983<br />Day: 19<br />daily_rainfall:   0.5<br />Intensity: Light rainfall","Year: 1983<br />Day: 27<br />daily_rainfall:   5.8<br />Intensity: Light rainfall","Year: 1993<br />Day: 1<br />daily_rainfall:   6.0<br />Intensity: Light rainfall","Year: 1993<br />Day: 2<br />daily_rainfall:   7.9<br />Intensity: Light rainfall","Year: 1993<br />Day: 3<br />daily_rainfall:   2.8<br />Intensity: Light rainfall","Year: 1993<br />Day: 5<br />daily_rainfall:   3.5<br />Intensity: Light rainfall","Year: 1993<br />Day: 10<br />daily_rainfall:   8.7<br />Intensity: Light rainfall","Year: 1993<br />Day: 14<br />daily_rainfall:   1.4<br />Intensity: Light rainfall","Year: 1993<br />Day: 15<br />daily_rainfall:   3.1<br />Intensity: Light rainfall","Year: 1993<br />Day: 18<br />daily_rainfall:   2.3<br />Intensity: Light rainfall","Year: 1993<br />Day: 20<br />daily_rainfall:   5.5<br />Intensity: Light rainfall","Year: 1993<br />Day: 22<br />daily_rainfall:   1.5<br />Intensity: Light rainfall","Year: 1993<br />Day: 25<br />daily_rainfall:   4.6<br />Intensity: Light rainfall","Year: 1993<br />Day: 29<br />daily_rainfall:   1.7<br />Intensity: Light rainfall","Year: 2003<br />Day: 2<br />daily_rainfall:   0.5<br />Intensity: Light rainfall","Year: 2003<br />Day: 4<br />daily_rainfall:   1.4<br />Intensity: Light rainfall","Year: 2003<br />Day: 7<br />daily_rainfall:   5.2<br />Intensity: Light rainfall","Year: 2003<br />Day: 8<br />daily_rainfall:   0.3<br />Intensity: Light rainfall","Year: 2003<br />Day: 13<br />daily_rainfall:   2.4<br />Intensity: Light rainfall","Year: 2003<br />Day: 14<br />daily_rainfall:   4.9<br />Intensity: Light rainfall","Year: 2003<br />Day: 17<br />daily_rainfall:   1.0<br />Intensity: Light rainfall","Year: 2003<br />Day: 19<br />daily_rainfall:   3.1<br />Intensity: Light rainfall","Year: 2003<br />Day: 28<br />daily_rainfall:   5.5<br />Intensity: Light rainfall","Year: 2013<br />Day: 4<br />daily_rainfall:   0.4<br />Intensity: Light rainfall","Year: 2013<br />Day: 5<br />daily_rainfall:   0.4<br />Intensity: Light rainfall","Year: 2013<br />Day: 6<br />daily_rainfall:   7.4<br />Intensity: Light rainfall","Year: 2013<br />Day: 10<br />daily_rainfall:   0.8<br />Intensity: Light rainfall","Year: 2013<br />Day: 12<br />daily_rainfall:   2.8<br />Intensity: Light rainfall","Year: 2013<br />Day: 22<br />daily_rainfall:   1.2<br />Intensity: Light rainfall","Year: 2013<br />Day: 23<br />daily_rainfall:   2.4<br />Intensity: Light rainfall","Year: 2013<br />Day: 24<br />daily_rainfall:   0.6<br />Intensity: Light rainfall","Year: 2013<br />Day: 26<br />daily_rainfall:   1.4<br />Intensity: Light rainfall","Year: 2013<br />Day: 30<br />daily_rainfall:   2.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 2<br />daily_rainfall:   0.8<br />Intensity: Light rainfall","Year: 2023<br />Day: 3<br />daily_rainfall:   3.8<br />Intensity: Light rainfall","Year: 2023<br />Day: 5<br />daily_rainfall:   2.0<br />Intensity: Light rainfall","Year: 2023<br />Day: 6<br />daily_rainfall:   4.2<br />Intensity: Light rainfall","Year: 2023<br />Day: 7<br />daily_rainfall:   1.2<br />Intensity: Light rainfall","Year: 2023<br />Day: 9<br />daily_rainfall:   5.8<br />Intensity: Light rainfall","Year: 2023<br />Day: 12<br />daily_rainfall:   3.0<br />Intensity: Light rainfall","Year: 2023<br />Day: 15<br />daily_rainfall:   0.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 19<br />daily_rainfall:   0.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 20<br />daily_rainfall:   2.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 21<br />daily_rainfall:   7.6<br />Intensity: Light rainfall","Year: 2023<br />Day: 22<br />daily_rainfall:   8.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 23<br />daily_rainfall:   4.4<br />Intensity: Light rainfall","Year: 2023<br />Day: 26<br />daily_rainfall:   7.6<br />Intensity: Light rainfall","Year: 2023<br />Day: 29<br />daily_rainfall:   8.4<br />Intensity: Light rainfall"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(173,216,230,1)","opacity":0.69999999999999996,"size":[4.996319580710546,3.8340220248782049,6.7103383096683507,8.587741201775037,1.977801953616086,4.072646215749538,1.6842241558361613,7.2280977676998903,7.3515337336305286,8.4303504653158949,4.996319580710546,5.6030383556281089,8.8435589806022801,3.4414307363261774,5.2655727885875638,4.5087456220230786,7.0386561142000579,3.57765115132666,6.4348840631724782,3.8340220248782049,1.6842241558361613,3.4414307363261774,6.8436663106325604,0.37795275590551186,4.6107558682538965,6.6426103136947567,2.821762772246537,5.2655727885875638,7.0386561142000579,1.3016261208665187,1.3016261208665187,8.1609628705607431,2.4433491889642949,4.996319580710546,3.1489728507885317,4.6107558682538965,1.977801953616086,3.4414307363261774,4.6107558682538965,2.4433491889642949,5.8424780765389173,4.1863556032094333,6.1462910712609125,3.1489728507885317,7.2280977676998903,5.1775003490372349,1.3016261208665187,1.3016261208665187,4.6107558682538965,8.2698214455823997,8.6910130405545729,6.2923480665584925,8.2698214455823997,8.6910130405545729],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(173,216,230,1)"}},"hoveron":"points","name":"Light rainfall","legendgroup":"Light rainfall","showlegend":false,"xaxis":"x6","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,1,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,5,5,5],"y":[28,31,12,15,17,19,26,29,30,31,3,8,11,3,4,9,20,25,29,31,11],"text":["Year: 1983<br />Day: 6<br />daily_rainfall:  14.9<br />Intensity: Moderate rainfall","Year: 1983<br />Day: 9<br />daily_rainfall:  10.5<br />Intensity: Moderate rainfall","Year: 1993<br />Day: 2<br />daily_rainfall:  20.1<br />Intensity: Moderate rainfall","Year: 1993<br />Day: 22<br />daily_rainfall:  21.0<br />Intensity: Moderate rainfall","Year: 1993<br />Day: 24<br />daily_rainfall:  17.5<br />Intensity: Moderate rainfall","Year: 1993<br />Day: 26<br />daily_rainfall:  11.3<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 4<br />daily_rainfall:  16.8<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 7<br />daily_rainfall:  16.0<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 8<br />daily_rainfall:  12.0<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 9<br />daily_rainfall:  12.0<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 11<br />daily_rainfall:  20.0<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 16<br />daily_rainfall:  15.0<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 19<br />daily_rainfall:  22.8<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 11<br />daily_rainfall:  15.8<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 12<br />daily_rainfall:  15.6<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 17<br />daily_rainfall:  13.6<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 27<br />daily_rainfall:  19.6<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 31<br />daily_rainfall:  16.2<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 7<br />daily_rainfall:  14.4<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 9<br />daily_rainfall:  11.2<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 19<br />daily_rainfall:  15.8<br />Intensity: Moderate rainfall"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(135,206,235,1)","opacity":0.69999999999999996,"size":[11.538740489314154,9.7065964667627167,13.375189079732245,13.667298278678501,12.491815370439447,10.065520735807526,12.242751955547881,11.951546846192551,10.369007793347329,10.369007793347329,13.342326229863389,11.576897139879531,14.233053230320616,11.877593411006449,11.803161297817274,11.030273654348523,13.210033243172925,12.025030721515764,11.345966268137929,10.021385800215223,11.877593411006449],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(135,206,235,1)"}},"hoveron":"points","name":"Moderate rainfall","legendgroup":"Moderate rainfall","showlegend":true,"xaxis":"x5","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,1,1,1,1,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5],"y":[30,2,7,10,17,26,1,2,4,10,14,12,6,7,13,25,1,3,18,20],"text":["Year: 1983<br />Day: 8<br />daily_rainfall:  19.8<br />Intensity: Moderate rainfall","Year: 1983<br />Day: 10<br />daily_rainfall:  21.1<br />Intensity: Moderate rainfall","Year: 1983<br />Day: 15<br />daily_rainfall:  12.7<br />Intensity: Moderate rainfall","Year: 1983<br />Day: 18<br />daily_rainfall:  23.5<br />Intensity: Moderate rainfall","Year: 1983<br />Day: 24<br />daily_rainfall:  12.2<br />Intensity: Moderate rainfall","Year: 1993<br />Day: 4<br />daily_rainfall:  22.2<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 1<br />daily_rainfall:  18.6<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 10<br />daily_rainfall:  11.3<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 12<br />daily_rainfall:  14.6<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 18<br />daily_rainfall:  15.8<br />Intensity: Moderate rainfall","Year: 2003<br />Day: 21<br />daily_rainfall:  23.3<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 2<br />daily_rainfall:  11.8<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 14<br />daily_rainfall:  19.0<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 15<br />daily_rainfall:  14.4<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 20<br />daily_rainfall:  11.2<br />Intensity: Moderate rainfall","Year: 2013<br />Day: 31<br />daily_rainfall:  13.4<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 1<br />daily_rainfall:  17.4<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 11<br />daily_rainfall:  10.0<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 25<br />daily_rainfall:  22.6<br />Intensity: Moderate rainfall","Year: 2023<br />Day: 27<br />daily_rainfall:  22.2<br />Intensity: Moderate rainfall"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(135,206,235,1)","opacity":0.69999999999999996,"size":[13.276349346256804,13.699359472494605,10.663544044555875,14.446926298851219,10.454039582221982,14.047070293087904,12.873174433824046,10.065520735807526,11.423479695567091,11.877593411006449,14.38615291088008,10.283246077706474,13.008996050933789,11.345966268137929,10.021385800215223,10.949877630455511,12.456549320021084,9.4750803827129833,14.17133755391143,14.047070293087904],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(135,206,235,1)"}},"hoveron":"points","name":"Moderate rainfall","legendgroup":"Moderate rainfall","showlegend":false,"xaxis":"x6","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,2,2,2,2,3,4,4,5],"y":[27,1,26,27,30,1,10,19,6],"text":["Year: 1983<br />Day: 5<br />daily_rainfall:  39.5<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 1<br />daily_rainfall:  38.7<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 4<br />daily_rainfall:  46.4<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 5<br />daily_rainfall:  25.6<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 8<br />daily_rainfall:  29.7<br />Intensity: Heavy rainfall","Year: 2003<br />Day: 1<br />daily_rainfall:  30.9<br />Intensity: Heavy rainfall","Year: 2013<br />Day: 18<br />daily_rainfall:  31.6<br />Intensity: Heavy rainfall","Year: 2013<br />Day: 26<br />daily_rainfall:  37.4<br />Intensity: Heavy rainfall","Year: 2023<br />Day: 14<br />daily_rainfall:  44.4<br />Intensity: Heavy rainfall"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,255,1)","opacity":0.69999999999999996,"size":[18.665752354934597,18.478180221137585,20.210060955711135,15.069877025381327,16.215651787983578,16.535637628818062,16.719402748128225,18.169158223392593,19.775093420086655],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,255,1)"}},"hoveron":"points","name":"Heavy rainfall","legendgroup":"Heavy rainfall","showlegend":true,"xaxis":"x5","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,1,2,2,2,2,3,3,4,4,5,5],"y":[31,19,28,4,5,17,31,8,1,30,21,25],"text":["Year: 1983<br />Day: 9<br />daily_rainfall:  48.1<br />Intensity: Heavy rainfall","Year: 1983<br />Day: 26<br />daily_rainfall:  42.2<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 6<br />daily_rainfall:  25.8<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 12<br />daily_rainfall:  30.8<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 13<br />daily_rainfall:  27.8<br />Intensity: Heavy rainfall","Year: 1993<br />Day: 24<br />daily_rainfall:  30.5<br />Intensity: Heavy rainfall","Year: 2003<br />Day: 9<br />daily_rainfall:  40.5<br />Intensity: Heavy rainfall","Year: 2003<br />Day: 16<br />daily_rainfall:  32.4<br />Intensity: Heavy rainfall","Year: 2013<br />Day: 1<br />daily_rainfall:  25.6<br />Intensity: Heavy rainfall","Year: 2013<br />Day: 8<br />daily_rainfall:  37.8<br />Intensity: Heavy rainfall","Year: 2023<br />Day: 28<br />daily_rainfall:  32.4<br />Intensity: Heavy rainfall","Year: 2023<br />Day: 31<br />daily_rainfall:  33.4<br />Intensity: Heavy rainfall"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,255,1)","opacity":0.69999999999999996,"size":[20.572418529878092,19.285074992591479,15.127833559162509,16.509214577821634,15.69534265800884,16.429684454130271,18.897546137662907,16.926921537356005,15.069877025381327,18.264810555052232,16.926921537356005,17.182716740585771],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,255,1)"}},"hoveron":"points","name":"Heavy rainfall","legendgroup":"Heavy rainfall","showlegend":false,"xaxis":"x6","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,5],"y":[2,13],"text":["Year: 1983<br />Day: 10<br />daily_rainfall:  55.5<br />Intensity: Storm","Year: 2023<br />Day: 20<br />daily_rainfall:  51.4<br />Intensity: Storm"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(30,144,255,1)","opacity":0.69999999999999996,"size":[22.079363120128171,21.257874688367728],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(30,144,255,1)"}},"hoveron":"points","name":"Storm","legendgroup":"Storm","showlegend":true,"xaxis":"x5","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[2,2,3,4,5],"y":[30,16,13,10,6],"text":["Year: 1993<br />Day: 8<br />daily_rainfall:  67.6<br />Intensity: Storm","Year: 1993<br />Day: 23<br />daily_rainfall:  54.7<br />Intensity: Storm","Year: 2003<br />Day: 20<br />daily_rainfall:  92.1<br />Intensity: Storm","Year: 2013<br />Day: 18<br />daily_rainfall:  75.0<br />Intensity: Storm","Year: 2023<br />Day: 14<br />daily_rainfall:  57.6<br />Intensity: Storm"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(30,144,255,1)","opacity":0.69999999999999996,"size":[24.340112143117167,21.921532586455577,28.363883888477126,25.623147276811395,22.488308564537284],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(30,144,255,1)"}},"hoveron":"points","name":"Storm","legendgroup":"Storm","showlegend":false,"xaxis":"x6","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[1,4],"y":[18,23],"text":["Year: 1983<br />Day: 25<br />daily_rainfall: 164.4<br />Intensity: Severe storm","Year: 2013<br />Day: 3<br />daily_rainfall: 119.8<br />Intensity: Severe storm"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,205,1)","opacity":0.69999999999999996,"size":[37.795275590551185,32.308206743939728],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,205,1)"}},"hoveron":"points","name":"Severe storm","legendgroup":"Severe storm","showlegend":true,"xaxis":"x6","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"xaxis":{"domain":[0,0.47999999999999998],"automargin":true,"type":"linear","autorange":false,"range":[1980,2026],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1983,1993,2003,2013,2023],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.26567040265670405,"zeroline":false,"anchor":"y","hoverformat":".2f"},"xaxis2":{"domain":[0.52000000000000002,0.75039999999999996],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"anchor":"y2"},"xaxis3":{"domain":[0.76960000000000006,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"anchor":"y2"},"xaxis4":{"domain":[0,0.47999999999999998],"automargin":true,"type":"linear","autorange":false,"range":[1980,2026],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1983,1993,2003,2013,2023],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.26567040265670405,"zeroline":false,"anchor":"y3","hoverformat":".2f"},"xaxis5":{"domain":[0.52000000000000002,0.75478147423352904],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y4","hoverformat":".2f"},"xaxis6":{"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.76521852576647098,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y4","hoverformat":".2f"},"yaxis4":{"domain":[0,0.47999999999999998],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,31.600000000000001],"tickmode":"array","ticktext":["1","10","11","12","13","14","15","16","17","18","19","2","20","21","22","23","24","25","26","27","28","29","3","30","31","4","5","6","7","8","9"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"categoryorder":"array","categoryarray":["1","10","11","12","13","14","15","16","17","18","19","2","20","21","22","23","24","25","26","27","28","29","3","30","31","4","5","6","7","8","9"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846432},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x5","hoverformat":".2f"},"yaxis3":{"domain":[0,0.47999999999999998],"automargin":true,"type":"linear","autorange":false,"range":[0,35],"tickmode":"array","ticktext":["0","5","10","15","20","25","30","35"],"tickvals":[0,5,10,15,20,25,30,35],"categoryorder":"array","categoryarray":["0","5","10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846432},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.13283520132835203,"zeroline":false,"anchor":"x4","hoverformat":".2f"},"yaxis2":{"domain":[0.52000000000000002,1],"automargin":true,"anchor":"x2"},"yaxis":{"domain":[0.52000000000000002,1],"automargin":true,"type":"linear","autorange":false,"range":[0,410],"tickmode":"array","ticktext":["0","50","100","150","200","250","300","350","400"],"tickvals":[0,50,100,150,200,250,300,350,400],"categoryorder":"array","categoryarray":["0","50","100","150","200","250","300","350","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846432},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.13283520132835203,"zeroline":false,"anchor":"x","hoverformat":".2f"},"annotations":[{"text":"Dry Season","x":0.55359999999999998,"xref":"paper","y":0.99039999999999995,"yref":"paper","showarrow":false,"xanchor":"center","yanchor":"bottom"},{"text":"Wet Season","x":0.80319999999999991,"xref":"paper","y":0.99039999999999995,"yref":"paper","showarrow":false,"xanchor":"center","yanchor":"bottom"},{"text":"Dry Season","x":0.63739073711676453,"y":0.47999999999999998,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Wet Season","x":0.88260926288323549,"y":0.47999999999999998,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.47999999999999998,"y0":0.52000000000000002,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.47999999999999998,"y0":0,"y1":0.47999999999999998},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.52000000000000002,"x1":0.75478147423352904,"y0":0,"y1":0.47999999999999998},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.52000000000000002,"x1":0.75478147423352904,"y0":0,"y1":23.37899543378996,"yanchor":0.47999999999999998,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.76521852576647098,"x1":1,"y0":0,"y1":0.47999999999999998},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.76521852576647098,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.47999999999999998,"ysizemode":"pixel"}],"images":[],"margin":{"t":100,"r":50,"b":50,"l":50,"pad":4},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":8},"title":"Volume, Frequency, Intensity of Rainfall Comparison in Selected Months","showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":8},"title":{"text":"Intensity<br />Daily Rainfall","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative","uniformtext":{"minsize":8,"mode":"hide"}},"attrs":{"1d974515ea8d":{"x":{},"ymin":{},"ymax":{},"type":"scatter"},"1d9721d9f26a":{"x":{},"y":{},"colour":{}},"1d976bba1e82":{"x":{},"y":{},"colour":{}},"1d97829200f":{"x":{},"y":{},"fill":{},"text":{}},"1d9743f7bcf8":{"x":{},"y":{},"fill":{},"text":{}},"1d973d9760a4":{"x":{},"y":{},"xend":{},"yend":{}},"1d971d49ce93":{"x":{},"y":{},"label":{},"text":{}},"1d9725575bf6":{"x":{},"y":{},"marker":{"color":"#0000CD"},"legendgroup":"Severe storm","showlegend":false,"name":"Severe storm","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"1d9725575bf6.1":{"x":{},"y":{},"marker":{"color":"#1E90FF"},"legendgroup":"Storm","showlegend":false,"name":"Storm","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d9725575bf6.2":{"x":{},"y":{},"marker":{"color":"#00BFFF"},"legendgroup":"Heavy rainfall","showlegend":false,"name":"Heavy rainfall","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d9725575bf6.3":{"x":{},"y":{},"marker":{"color":"#87CEEB"},"legendgroup":"Moderate rainfall","showlegend":false,"name":"Moderate rainfall","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d9725575bf6.4":{"x":{},"y":{},"marker":{"color":"#ADD8E6"},"legendgroup":"Light rainfall","showlegend":false,"name":"Light rainfall","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d9725575bf6.5":{"x":{},"y":{},"marker":{"color":"grey"},"legendgroup":"Not rain","showlegend":false,"name":"Not rain","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d973cf993d0":{"x":{},"y":{},"marker":{"color":"#0000CD"},"legendgroup":"Severe storm","showlegend":false,"name":"Severe storm","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"1d973cf993d0.1":{"x":{},"y":{},"marker":{"color":"#1E90FF"},"legendgroup":"Storm","showlegend":false,"name":"Storm","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d973cf993d0.2":{"x":{},"y":{},"marker":{"color":"#00BFFF"},"legendgroup":"Heavy rainfall","showlegend":false,"name":"Heavy rainfall","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d973cf993d0.3":{"x":{},"y":{},"marker":{"color":"#87CEEB"},"legendgroup":"Moderate rainfall","showlegend":false,"name":"Moderate rainfall","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d973cf993d0.4":{"x":{},"y":{},"marker":{"color":"#ADD8E6"},"legendgroup":"Light rainfall","showlegend":false,"name":"Light rainfall","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d973cf993d0.5":{"x":{},"y":{},"marker":{"color":"grey"},"legendgroup":"Not rain","showlegend":false,"name":"Not rain","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"1d972d6e478d":{"x":{},"y":{},"colour":{},"type":"scatter"},"1d97231b9148":{"x":{},"y":{},"colour":{},"ymin":{},"ymax":{}},"1d9766df1ff9":{"x":{},"y":{},"colour":{}},"1d97ab3051c":{"x":{},"y":{},"size":{},"colour":{},"type":"scatter"}},"source":"A","config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
CLAIM
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <strong><em>contrast</em></strong> between the wet months (November to January) and dry month (February and June to September) is likely to be <strong><em>more pronounced</em></strong>.</p>
</div>
</div>
<p>Upon the analysis based on the selected data</p>
<ol type="1">
<li><p><strong>Total Volume of Monthly Rainfall:</strong> There is no strong evidence of significant differences in the total volume of monthly rainfall between the wet and dry seasons across the years.</p></li>
<li><p><strong>Frequency of Rainy Days:</strong> The frequency of rainy days shows a more pronounced contrast between the wet and dry seasons over the years in the selected data. This indicates a distinct pattern in the occurrence of rainfall throughout the year.</p></li>
<li><p><strong>Intensity of Rainfall:</strong> While the occurrence of rainfall events, indicated by blue colors, shows improvement over time, the overall intensity of rainfall, especially heavy rainfall, has displayed a decreasing trend. This trend hints at a potential shift in precipitation patterns or intensity over the years.</p></li>
</ol>
<p>Overall, while the total volume of monthly rainfall may not demonstrate significant differences between wet and dry seasons, the frequency of rainfall events appears to be more pronounced. However, the contrast in intensity seems to be less significant. It’s important to note that the analysis is based on data from a single station over a 5-year interval, limited to specific months. Therefore, to draw more accurate conclusions, additional data from a broader range of locations and time periods would be necessary.</p>
</section>
</section>
<section id="reference" class="level1">
<h1>Reference</h1>
<p><a href="https://towardsdatascience.com/detecting-abnormal-weather-patterns-with-data-science-tools-5fae48586469" class="uri">https://towardsdatascience.com/detecting-abnormal-weather-patterns-with-data-science-tools-5fae48586469</a></p>
<p><a href="https://stackoverflow.com/questions/49258027/plotly-r-legend-with-groupnames" class="uri">https://stackoverflow.com/questions/49258027/plotly-r-legend-with-groupnames</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>